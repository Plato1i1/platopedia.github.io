<span class="font-weight-bold">Theme:</span>
<form autocomplete="off">
    <div class="radio-theme">
        <div class="form-check form-check-inline">
            <input id="util_theme_device" class="form-check-input" type="radio" name="util_theme" value="device" autocomplete="off" checked />
            <label class="form-check-label" for="util_theme_device">Auto</label>
            <input id="util_theme_light" class="form-check-input" type="radio" name="util_theme" value="light" autocomplete="off" />
            <label class="form-check-label" for="util_theme_light">Light</label>
            <input id="util_theme_dark" class="form-check-input" type="radio" name="util_theme" value="dark" autocomplete="off" />
            <label class="form-check-label" for="util_theme_dark">Dark</label>
        </div>
    </div>
</form>

<div id="detect-theme-forcedark" style="display:none;background-color:canvas;color-scheme:light"></div>

<script>
document.addEventListener
(
    'util_theme_out',
    function ( event )
    {
        var detect_theme_light = event.detail.theme == 'light';
        var theme_color = detect_theme_light ? '#FFFFFF' : '#000000';
        document.querySelector( 'meta[name="theme-color"]' ).setAttribute( 'content', theme_color );
        
        var detect_theme_forcedark = getComputedStyle( document.querySelector( '#detect-theme-forcedark' ) ).backgroundColor != 'rgb(255, 255, 255)';
        var theme_forcedark = detect_theme_forcedark ? 'on' : 'off';
        document.body.setAttribute( 'data-theme-forcedark', theme_forcedark );
    }
);

Util_Theme( );
</script>